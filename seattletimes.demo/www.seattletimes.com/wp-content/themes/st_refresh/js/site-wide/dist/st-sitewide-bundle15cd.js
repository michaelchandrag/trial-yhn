/*! For license information please see st-sitewide-bundle.js.LICENSE.txt */
(()=>{var e,t,n={12:e=>{var t=function(e){"use strict";var t,n=Object.prototype,o=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var i=t&&t.prototype instanceof v?t:v,s=Object.create(i.prototype),a=new k(o||[]);return r(s,"_invoke",{value:L(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h="suspendedStart",f="suspendedYield",g="executing",p="completed",w={};function v(){}function m(){}function b(){}var S={};l(S,s,(function(){return this}));var y=Object.getPrototypeOf,E=y&&y(y(x([])));E&&E!==n&&o.call(E,s)&&(S=E);var O=b.prototype=v.prototype=Object.create(S);function T(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function n(r,i,s,a){var c=d(e[r],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;r(this,"_invoke",{value:function(e,o){function r(){return new t((function(t,r){n(e,o,t,r)}))}return i=i?i.then(r,r):r()}})}function L(e,t,n){var o=h;return function(r,i){if(o===g)throw new Error("Generator is already running");if(o===p){if("throw"===r)throw i;return _()}for(n.method=r,n.arg=i;;){var s=n.delegate;if(s){var a=C(s,n);if(a){if(a===w)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var c=d(e,t,n);if("normal"===c.type){if(o=n.done?p:f,c.arg===w)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o=p,n.method="throw",n.arg=c.arg)}}}function C(e,n){var o=n.method,r=e.iterator[o];if(r===t)return n.delegate=null,"throw"===o&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),w;var i=d(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,w;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,w):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,w)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function x(e){if(e){var n=e[s];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function n(){for(;++r<e.length;)if(o.call(e,r))return n.value=e[r],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}return{next:_}}function _(){return{value:t,done:!0}}return m.prototype=b,r(O,"constructor",{value:b,configurable:!0}),r(b,"constructor",{value:m,configurable:!0}),m.displayName=l(b,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},T(A.prototype),l(A.prototype,a,(function(){return this})),e.AsyncIterator=A,e.async=function(t,n,o,r,i){void 0===i&&(i=Promise);var s=new A(u(t,n,o,r),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},T(O),l(O,c,"Generator"),l(O,s,(function(){return this})),l(O,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=x,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(o,r){return a.type="throw",a.arg=e,n.next=o,r&&(n.method="next",n.arg=t),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return r("end");if(s.tryLoc<=this.prev){var c=o.call(s,"catchLoc"),l=o.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return r(s.catchLoc,!0);if(this.prev<s.finallyLoc)return r(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return r(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return r(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,w):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),w},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),w}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var r=o.arg;I(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:x(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),w}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={exports:{}};return n[e](i,i.exports,r),i.exports}r.m=n,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>({105:"st-footer-navigation",121:"st-toggled-content",211:"st-search",268:"st-image-slider",300:"st-tables",321:"st-content-studio",419:"st-focus-trap",469:"st-hamburger-nav-accordion",480:"st-related-links",678:"st-side-chain",769:"st-tabbed-content",825:"st-form-handling",885:"st-hamburger-focus-trap",919:"st-tweeter",972:"st-jw-player"}[e]+".js?ver="+{105:"f424f738817ae79c66e3",121:"3e11e4e7271c95b343b8",211:"ff8ea5413f85ae62248f",268:"fcf914b8323abcb7db05",300:"9ea4c40db6d06d16167b",321:"fe460894f08e57379334",419:"92cd8e3a490409b08f40",469:"c1e98a05806bfeaf4da9",480:"6188b8a8c3d429513b7d",678:"4d092589e2b0785484df",769:"a48a120e8c4671b093fc",825:"d4050714d60d0f62a5f8",885:"b821168d7823311e4e97",919:"03b66ac19f29883bb2d6",972:"23f6935c60b108d7bb1e"}[e]),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="seattle-times:",r.l=(n,o,i,s)=>{if(e[n])e[n].push(o);else{var a,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[o];var h=(t,o)=>{a.onerror=a.onload=null,clearTimeout(f);var r=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach((e=>e(o))),t)return t(o)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="https://www.seattletimes.com/wp-content/themes/st_refresh/js/site-wide/dist/",(()=>{var e={524:0};r.f.j=(t,n)=>{var o=r.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));n.push(o[2]=i);var s=r.p+r.u(t),a=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,i,[s,a,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(o in a)r.o(a,o)&&(r.m[o]=a[o]);c&&c(r)}for(t&&t(n);l<s.length;l++)i=s[l],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=globalThis.webpackChunkseattle_times=globalThis.webpackChunkseattle_times||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";class e{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={TOGGLE_CLASS:"is-open"};this._el=e,this._toggle=this._el.querySelector(".st-dropdown_toggle"),this._header=this._el.querySelector(".st-dropdown_header"),this._settings={},Object.keys(n).forEach((e=>{Object.prototype.hasOwnProperty.call(t,e)?this._settings[e]=t[e]:this._settings[e]=n[e]})),this._addEventListeners()}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._el.classList.contains(this._settings.TOGGLE_CLASS)&&(e=!0),e?(this._el.classList.remove(this._settings.TOGGLE_CLASS),this._toggle.setAttribute("aria-expanded",!1),window.events.trigger("dropdown:close",{element:this._el})):(this._el.classList.add(this._settings.TOGGLE_CLASS),this._toggle.setAttribute("aria-expanded",!0),window.events.trigger("dropdown:open",{element:this._el}))}clearSiblings(){var e;!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;for(let o=0;o<e.length;o++)t.call(n,e[o],o)}((e=this._el,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];let o=e.firstChild;for(;o;o=o.nextSibling)1==o.nodeType&&o!=t&&n.push(o);return n}(e.parentNode,e)),((e,t)=>{e.classList.remove(this._settings.TOGGLE_CLASS);const n=e.querySelector(".st-dropdown_toggle");n&&n.setAttribute("aria-expanded",!1)}))}_addEventListeners(){this._toggle.addEventListener("click",(e=>{e.preventDefault(),this.toggle(),this.clearSiblings()})),this._header&&this._header.addEventListener("click",(e=>{e.preventDefault(),this.toggle(!0)}))}}function t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",[o]=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[n];const r=document.querySelectorAll(e);for(let e=0;e<r.length;e++){const n=o("a","Skip Ad",{class:"ad-skip-link visually-hide visually-hide-focusable justify-content-center u-db u-ws-nowrap u-bg-white",href:`#skip-${e+t}`});r[e].before&&r[e].before(n);const i=o("span","",{id:`skip-${e+t}`,style:"display: none;"});r[e].after&&r[e].after(i)}}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=document.createElement(e);for(let e in n)Object.prototype.hasOwnProperty.call(n,e)&&o.setAttribute(e,n[e]);return o.textContent=t,o}var o={d:(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},i={};o.d(i,{A:()=>l,k:()=>c});var s=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{c(o.next(e))}catch(e){i(e)}}function a(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))},a=function(e,t){var n,o,r,i,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,o=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){s.label=a[1];break}if(6===a[0]&&s.label<r[1]){s.label=r[1],r=a;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(a);break}r[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};function c(){return s(this,void 0,Promise,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,new Promise((function(e,t){var n,o,r="Unknown";function i(t){e({isPrivate:t,browserName:r})}function s(e){return e===eval.toString().length}void 0!==(o=navigator.vendor)&&0===o.indexOf("Apple")&&s(37)?(r="Safari",void 0!==navigator.maxTouchPoints?function(){var e=String(Math.random());try{window.indexedDB.open(e,1).onupgradeneeded=function(t){var n,o,r=null===(n=t.target)||void 0===n?void 0:n.result;try{r.createObjectStore("test",{autoIncrement:!0}).put(new Blob),i(!1)}catch(e){var s=e;return e instanceof Error&&(s=null!==(o=e.message)&&void 0!==o?o:e),"string"!=typeof s?void i(!1):void i(s.includes("BlobURLs are not yet supported"))}finally{r.close(),window.indexedDB.deleteDatabase(e)}}}catch(e){i(!1)}}():function(){var e=window.openDatabase,t=window.localStorage;try{e(null,null,null,null)}catch(e){return void i(!0)}try{t.setItem("test","1"),t.removeItem("test")}catch(e){return void i(!0)}i(!1)}()):function(){var e=navigator.vendor;return void 0!==e&&0===e.indexOf("Google")&&s(33)}()?(n=navigator.userAgent,r=n.match(/Chrome/)?void 0!==navigator.brave?"Brave":n.match(/Edg/)?"Edge":n.match(/OPR/)?"Opera":"Chrome":"Chromium",void 0!==self.Promise&&void 0!==self.Promise.allSettled?navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,t){var n;i(Math.round(t/1048576)<2*Math.round((void 0!==(n=window).performance&&void 0!==n.performance.memory&&void 0!==n.performance.memory.jsHeapSizeLimit?performance.memory.jsHeapSizeLimit:1073741824)/1048576))}),(function(e){t(new Error("detectIncognito somehow failed to query storage quota: "+e.message))})):(0,window.webkitRequestFileSystem)(0,1,(function(){i(!1)}),(function(){i(!0)}))):void 0!==document.documentElement&&void 0!==document.documentElement.style.MozAppearance&&s(37)?(r="Firefox",i(void 0===navigator.serviceWorker)):void 0!==navigator.msSaveBlob&&s(39)?(r="Internet Explorer",i(void 0===window.indexedDB)):t(new Error("detectIncognito cannot determine the browser"))}))];case 1:return[2,e.sent()]}}))}))}"undefined"!=typeof window&&(window.detectIncognito=c);const l=c;var u=i.k;function d(e){const t=document.getElementsByTagName("script")[0];let n=document.createElement("script");n.src=e,n.async=!0,t.parentNode.insertBefore(n,t)}r(12);const h=e=>`\n    <ul>\n      ${e?`<li class="login user-link"><a href="${window.SEATIMESCO.singleSignOn.info.accountCenterURL}historicalarchives" class="st-return">Log In</a></li>`:""}\n    </ul>\n  `,f=(e,t)=>{const n="other"==t||"sub"==t,o="reg"!=t&&"former"!=t&&"anon"!=t,r="reg"==t||"anon"==t||"former"==t?'<li class="subscribe user-link"><a href="/subscribe/signup-offers/?subsource=voluntary" class="st-return">Subscribe</a></li>':"",{accountCenterURL:i}=window.SEATIMESCO.singleSignOn.info;return e?`\n    <ul>\n      <li class='user-link'><a href='/newsletters'>Newsletters</a></li>\n      <li class="user">\n        <button id="my-account-dropdown" class="username user-link u-border-n u-bg-transparent ph-0">My Account</button>\n        <ul class="user-menu ${t}">\n          <li class="username"><button id="my-account-header-utils" class="u-border-n u-bg-transparent ph-0">My Account</button></li>\n          <li class="edit-profile" ><a  href="${i}editprofile">Edit Profile</a></li>\n          ${n?`<li class="subscriptions"><a href="${i}managesubscriptions" >Manage Subscriptions</a></li>`:""}\n          <li class="newsletters"><a href="/newsletters">Newsletters</a></li>\n          ${o?`<li class="subscriptions"><a href="${i}historicalarchives" >Newspaper Archive</a></li>`:""}\n          <li class="logout"><button class="u-border-n u-bg-transparent ph-0">Log Out</button></li>\n        </ul>\n      </li>\n      ${r}\n    </ul>\n  `:`\n      <ul>\n        <li class='user-link'><a href='/newsletters'>Newsletters</a></li>\n        <li class="login user-link"><a href="${i}" class="st-return">Log In</a></li>\n        ${r}\n      </ul>\n    `};var g;"undefined"!=typeof sitewideJSDomain&&(r.p=sitewideJSDomain),new class{constructor(){this.subscriberNumber="",this.UUID="",this.ssoEnvironment="",this.accountCenterURL="",this.subscriberSessionURL="",this.commenterSessionURL="",this.analyticsURL="",this.currentURL=document.URL,this.cookieExpiresInXDays=2,this.forceRefreshOveride=!0,this.loggedIn=!1,this.STReturnCookieName="st-return",this.STReturnCookieValue=document.URL,this.STReturnCookieExpirationInDays=172800,this.initialize()}initialize(){void 0!==window.SEATIMESCO.singleSignOn&&void 0!==window.SEATIMESCO.singleSignOn.info&&void 0!==window.SEATIMESCO.singleSignOn.info.ssoEnvironment&&void 0!==window.SEATIMESCO.singleSignOn.info.subscriberSessionURL&&void 0!==window.SEATIMESCO.singleSignOn.info.commenterSessionURL&&void 0!==window.SEATIMESCO.singleSignOn.info.analyticsURL?(this.ssoEnvironment=window.SEATIMESCO.singleSignOn.info.ssoEnvironment,this.subscriberSessionURL=window.SEATIMESCO.singleSignOn.info.subscriberSessionURL,this.commenterSessionURL=window.SEATIMESCO.singleSignOn.info.commenterSessionURL,this.analyticsURL=window.SEATIMESCO.singleSignOn.info.analyticsURL,this.accountCenterURL=`https://${this.ssoEnvironment}seattletimes.com/accountcenter/`,this.editProfileURL=`https://${this.ssoEnvironment}seattletimes.com/accountcenter/editprofile`,window.SEATIMESCO.singleSignOn.info.forceRefreshOveride=this.forceRefreshOveride,window.SEATIMESCO.singleSignOn.info.accountCenterURL=this.accountCenterURL,window.SEATIMESCO.singleSignOn.info.editProfileURL=this.editProfileURL,window.SEATIMESCO.singleSignOn.info.cookieExpiresInXDays=this.cookieExpiresInXDays,window.STEventManager.subscribe(["sso:subscriberDataCookieReady"],null).then((e=>{this.setAccountType(e.data["sso:subscriberDataCookieReady"]?e.data["sso:subscriberDataCookieReady"]:"")})),window.STEventManager.subscribe(["accessLoginForm"]).then((()=>{this.buildSSOCookie()})),window.STEventManager.subscribe(["singleSignOn:logOut"]).then((()=>{this.logout()})),window.STEventManager.subscribe(["singleSignOn:loggedInAsync"]).then((()=>{this.buildSSOCookie()})),window.STEventManager.subscribe(["singleSignOn:handleReturnURL"]).then((()=>{this.buildSSOCookie()})),this.getSSOInfo()):console.log("No SEATIMESCO.singleSignOn info. Not running single sign on scripts")}getSSOInfo(){const e=window.globalHelpers.getCookie("sessionToken"),t=window.globalHelpers.getCookie("st_subscriberdata");e?(this.loggedIn=!0,window.SEATIMESCO.singleSignOn.info.loggedIn=this.loggedIn,t&&window.STEventManager.completedEvent("sso:subscriberDataCookieReady",t),this.configureGTMInfo(e)):(this.loggedIn=!1,window.SEATIMESCO.singleSignOn.info.loggedIn=!1,window.STEventManager.completedEvent("sso:subscriberDataCookieReady",!1))}configureGTMInfo(e){const t=this.analyticsURL+e;fetch(t).then((e=>e.json())).then((e=>{e&&window.STEventManager.eventPush(e)})).catch((e=>{console.log("Couldn't connect to soa.js API",e)}))}logUserIP(){const e=localStorage.getItem("st-hip");e?this.sendHashedIPEvent(e):fetch("https://awsapi.seattletimes.com/clientip").then((e=>e.json())).then((e=>{e.IP&&(this.sendHashedIPEvent(btoa(e.IP)),localStorage.setItem("st-hip",btoa(e.IP)))}))}logout(){window.globalHelpers.deleteCookie("st-return"),window.globalHelpers.deleteCookie("sessionToken"),window.globalHelpers.deleteCookie("st-username"),window.globalHelpers.deleteCookie("st_subscriberdata"),window.globalHelpers.deleteCookie("st_newsletter_prefs"),void 0!==window.google&&window.google.accounts.id.disableAutoSelect(),document.location.reload(!0)}buildSSOCookie(){if(window.globalHelpers.isSubscribePage())return;const e=84600*this.cookieExpiresInXDays;window.globalHelpers.writeCookie("st-return",this.currentURL,e,"/",".seattletimes.com","None")}convertUserTypeToStandard(e){if(void 0===e||null==e)return"anon";switch(e){case"noAcct":default:return"anon";case"digitalSubAcct":return"sub";case"nonDigitalSubAcct":return"other";case"commenterAcct":return"reg";case"formerAcct":return"former"}}setAccountType(e){let t=null;t=e&&Array.isArray(JSON.parse(e))?"digitalSubAcct":"-1"===e?"commenterAcct":"0"===e?"nonDigitalSubAcct":"-2"===e?"formerAcct":"noAcct",document.querySelector("body").classList.add(t),this.accountType=this.convertUserTypeToStandard(t),window.SEATIMESCO.singleSignOn.info.accountType=this.accountType,window.SEATIMESCO.singleSignOn.info.subscriberData=e,window.SEATIMESCO.singleSignOn.info.accountId=e?JSON.parse(e)[0]:"",window.STEventManager.completedEvent("singleSignOn:loginReady"),window.STEventManager.completedEvent("sso:accountTypeDetermined")}sendHashedIPEvent(e){const t=btoa(window.navigator.userAgent);let n=window.STEventManager.returnEvent("analyticsEvent","segmentation","network-element","",null,!0);n.userAgent=t,n.networkLocation=e,window.STEventManager.eventPush(n)}},document.querySelectorAll("img").forEach((e=>{(e=>{if(!e.dataset.ratio)return;let t=0;e.offsetWidth?t=e.offsetWidth:e.parentNode&&e.parentNode.offsetWidth?t=e.parentNode.offsetWidth:e.parentNode&&e.parentNode.parentNode&&e.parentNode.parentNode.offsetWidth&&(t=e.parentNode.parentNode.offsetWidth),t&&(e.width=t,e.height=t/parseFloat(e.dataset.ratio))})(e)})),window.innerWidth<768&&document.querySelector(".top-story")&&function(){let e=document.body.querySelector(".top-story-photo .caption");if(!e)return;let t=/\(([^)]+)\)/.exec(e.textContent);t&&t[0]&&(e.textContent=t[0])}(),function(){let e=document.querySelector(".nav-all-sections"),t=document.querySelector(".nav-all-sections-toggle");e&&t&&(t.onclick=()=>{const n=e.classList.contains("active"),o=n?"collapse":"expand";t.setAttribute("aria-expanded",!n),window.STEventManager.dataLayerEvent("analyticsEvent","navigation",`allsections - primarynav - ${window.SEATIMESCO.contentInfo.contentType} - ${o}`),t.classList.toggle("active"),e.classList.toggle("active")})}(),window.innerWidth<1020&&document.querySelector(".global-header-top")&&document.addEventListener("scroll",(function(){(()=>{const e=window.scrollY,t=document.querySelector("#ad-flex-top"),n=document.querySelector(".global-header-top");e>n.offsetHeight&&e<800?(n.classList.add("header-hide"),n.classList.remove("header-sticky"),t.classList.remove("ad-hide")):e>=800?(n.classList.add("header-sticky"),n.classList.remove("header-hide"),t.classList.add("ad-hide")):(n.classList.remove("header-sticky"),n.classList.remove("header-hide"),t.classList.remove("ad-hide"))})()}),{passive:!0});const p=document.querySelectorAll(".image-slider");if(p&&p.length>0&&r.e(268).then(r.bind(r,114)).then((e=>{p.forEach((t=>{e.setUpSlider(t)}))})),null!==(g=window.SEATIMESCO)&&void 0!==g&&null!==(g=g.contentInfo)&&void 0!==g&&g.live){const e=new MutationObserver((function(e){e.forEach((function(e){"childList"===e.type&&e.addedNodes.length>0&&e.addedNodes.forEach((function(e){if("function"==typeof e.querySelector&&e.querySelector(".image-slider")){const t=e.querySelectorAll(".image-slider");r.e(268).then(r.bind(r,114)).then((e=>{t.forEach((t=>{e.setUpSlider(t)}))}))}}))}))})),t=document.getElementById("st-new-updates");t&&e.observe(t,{childList:!0,subtree:!0})}const w=document.querySelectorAll(".embed-container.tweet .twitter-tweet");if(w&&w.length>0){if(null==window.twttr||null==window.twttr.widgets){const e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://platform.twitter.com/widgets.js?ver=1.0",document.body.appendChild(e)}r.e(919).then(r.bind(r,523)).then((e=>{w.forEach((t=>{e.listen(t)}))}))}const v=document.querySelectorAll(".st-sortable-table");v&&v.length>0&&r.e(300).then(r.bind(r,597)).then((e=>{v.forEach((t=>{e.setup(t)}))}));const m=document.querySelectorAll(".auto-related");m&&m.length>0&&r.e(480).then(r.bind(r,334)).then((e=>{m.forEach((t=>{e.setup(t)}))}));const b=()=>{const e=document.querySelectorAll(".jwplayer-container");e&&e.length>0&&r.e(972).then(r.bind(r,321)).then((t=>{e.forEach(((n,o)=>{t.jwpVideoApp(n,o,e.length)}))}))};b(),window.STEventManager.subscribe(["liveUpdate:jwPlayerInLiveUpdateCard"]).then((()=>{b()}));const S=document.querySelector(".main-nav-body");if(S){r.e(885).then(r.bind(r,374)).then((e=>{e.moveSubMenuMarkup(S),e.trapFocus(S)}));const e=S.querySelector(".nav-accordion");r.e(469).then(r.bind(r,180)).then((t=>{t.setupNavAccordion(e)}))}const y=document.querySelector(".global-footer .footer-nav-primary");y&&r.e(105).then(r.bind(r,657)).then((e=>{e.setupFooterNavigation(y)}));const E=document.querySelector(".st-content-studio-info .info-button");E&&r.e(321).then(r.bind(r,745)).then((e=>{e.infoButtonClickListener(E)})),document.querySelector(".page-template-tabbed-content")&&r.e(769).then(r.bind(r,209)).then((e=>{e.setUpPage()}));const O=document.querySelectorAll(".page-template-toggled-content, .st-toggled-content__wrapper");O&&O.length>0&&r.e(121).then(r.bind(r,913)).then((e=>{O.forEach((t=>{e.setupToggledContent(t)}))}));const T=document.querySelector(".global-search-button");T&&r.e(211).then(r.bind(r,135)).then((e=>{e.stSearchClickListener(T)})),function(){let[e]=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[t];e(".htlad")}(),function(){let e=window.SEATIMESCO.experiments&&window.SEATIMESCO.experiments.timeout?window.SEATIMESCO.experiments.timeout:4e3;window.STEventManager.subscribe(["optimizeCompleted"],e).then((t=>{if(function(){const e=window.optimizely?window.optimizely.get("state").getExperimentStates():null;e&&(window.SEATIMESCO.experiments.variants=[],window.SEATIMESCO.experiments.active=e,Object.keys(e).forEach((t=>{if(e[t].isActive){const n=e[t].id,o=e[t].variation.id;window.SEATIMESCO.experiments.variants.push(`${n}__${o}`)}})),window.htlbid&&!window.htlbid.state.targeting.experiments&&window.htlbid.setTargeting("experiments",window.SEATIMESCO.experiments.variants))}(),window.SEATIMESCO.experiments.defaultHide&&document.querySelectorAll(window.SEATIMESCO.experiments.defaultHide).forEach((e=>{e.style.display="none"})),t.timeout||!window.optimizely){window.STEventManager.completedEvent("optimizeTimeout"),window.STEventManager.completedEvent("optimizeCompleted");let t=window.STEventManager.returnEventObject("analyticsEvent","experiments","optimizeTimeout",null,e,!0);window.STEventManager.eventPush(t)}else window.STEventManager.completedEvent("optimizeCompletedSuccess")})).catch((e=>{console.log("Optimize timeout: ",e.message)}))}(),window.STEventManager.subscribe(["singleSignOn:loginReady"],null,(()=>{const{loggedIn:e,accountType:t}=window.SEATIMESCO.singleSignOn.info;(e=>{const t=document.querySelector(".hamburger-login-nav");t&&(t.innerHTML=(e=>e?`\n      <li class="logout"><a href="#">Log Out</a></li>\n      <li class="edit-profile"><a href="${window.SEATIMESCO.singleSignOn.info.editProfileURL}">Edit Profile</a></li>\n    `:`\n      <li><a href="${window.SEATIMESCO.singleSignOn.info.accountCenterURL}" class="st-return">Log In</a></li>\n      <li class="subscribe"><a href="/subscribe/signup-offers/?subsource=voluntary">Subscribe</a></li>\n      <li><a href="/contact/">Contact</a></li>\n    `)(e))})(e),((e,t)=>{const n=document.querySelectorAll(".header-utils");if(n&&document.getElementById("st-newspaper-archives-header"))for(let t=0;t<n.length;t++)n[t].innerHTML=h(e);else for(let o=0;o<n.length;o++)n[o].innerHTML=f(e,t);(e=>{const t='button, [href], [tabindex]:not([tabindex="-1"])',n=e.querySelectorAll(t)[1],o=e.querySelectorAll(t),r=o[o.length-1],i=document.querySelector(".header-search-icon"),s=document.querySelector(".user-menu");s&&s.addEventListener("keydown",(t=>{const o="Tab"===t.key;"Escape"===t.key&&e.contains(document.activeElement)&&i.focus(),o&&(t.shiftKey?document.activeElement===n&&(r.focus(),t.preventDefault()):document.activeElement===r&&(n.focus(),t.preventDefault()))}))})(n[0])})(e,t)})),window.STEventManager.subscribe(["sso:subscriberDataCookieReady"],1e3,(function(){if(window.SEATIMESCO.singleSignOn.info.subscriberData&&window.pushly){const e=JSON.parse(window.SEATIMESCO.singleSignOn.info.subscriberData)[0];window.pushly("profile",{subscriber_id:e})}})),window.STEventManager.subscribe(["paywall:articleCountSet"],1e3,(function(){window.SEATIMESCO.paywall.articleCount&&window.pushly&&window.pushly("profile",{articleCount:window.SEATIMESCO.paywall.articleCount})})),function(){if(window.SEATIMESCO&&window.SEATIMESCO.noThirdPartyScripts)return;const e=document.getElementById("article-recommended-wrapper");if(null===e)return;if(!("IntersectionObserver"in window))return void d("https://widgets.outbrain.com/outbrain.js");const t="0px 0px "+window.innerHeight+"px 0px";let n=new IntersectionObserver((t=>{for(let o=0;o<t.length;o++)t[o].intersectionRatio>0&&(d("https://widgets.outbrain.com/outbrain.js"),n.unobserve(e))}),{rootMargin:t});n.observe(e)}(),null!==document.querySelector("responsive-frame")&&d(`${new URL(document.currentScript.src).origin}/wp-content/plugins/st-legacy-shortcodes/js/responsive-frame.min.js`),function(){const e=document.querySelector(".scrolling-quads"),t=document.querySelector(".video-browser");null!==e&&null==t&&d("/wp-content/plugins/st-video/js/st-video.min.js")}(),window.STEventManager.subscribe(["focusArea:newsletterSignupSplash"]).then((e=>{let{data:t}=e;r.e(419).then(r.bind(r,855)).then((e=>{e.focusTrap(t["focusArea:newsletterSignupSplash"])}))})),window.SEATIMESCO.browser&&window.SEATIMESCO.browser.privacy.detectionEnabled&&(window.SEATIMESCO=window.SEATIMESCO||{},window.SEATIMESCO.browser=window.SEATIMESCO.browser||{},window.SEATIMESCO.browser.privacy=window.SEATIMESCO.browser.privacy||{},function(){try{document.cookie="cookietest=1",document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT"}catch(e){const t=window.STEventManager.returnEventObject("anayticsEvent","paywallAvoidance","disabledCookiesDetected","");window.STEventManager.eventPush(t),window.STEventManager.completedEvent("paywallAvoidance:disabledCookiesDetected")}}(),u().then((e=>{!function(e){if(window.STEventManager.completedEvent("paywallAvoidance:detection",e),e){const e=window.STEventManager.returnEventObject("anayticsEvent","paywallAvoidance","privateBrowsingDetected","");window.STEventManager.eventPush(e)}}(e.isPrivate)})));const A=document.querySelectorAll(".gform_wrapper");A&&A.length>0&&r.e(825).then(r.bind(r,405)).then((e=>{A.forEach((t=>{e.preventEarlySubmit(t)}))})),window.STEventManager.subscribe(["electionFilterLoaded"],2e3).then((()=>{(()=>{const t=document.querySelectorAll(".st-dropdown");if(0!==t.length)for(let n=0;n<t.length;n++)new e(t[n])})()})),window.STEventManager.subscribe(["sidechainResponsiveFrameLoaded"],2e3).then((()=>{document.querySelector("side-chain")&&r.e(678).then(r.bind(r,628))}))})()})();